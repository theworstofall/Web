{% extends 'base.html' %}

{% block content %}
{% if user %}
<!-- Card with the same animation as login and sign-up -->
<div class="card card-form mx-auto animate__animated animate__fadeInUp animate__delay-1s" style="max-width: 500px;">
    <div class="card-body text-center">
        <h2 class="card-title mb-4 animate__animated animate__fadeIn animate__delay-1s">Your Profile</h2>
        <img src="{{ url_for('static', filename=user.profile_pic or 'profile.png') }}" 
             class="rounded-circle mb-3 animate__animated animate__fadeIn animate__delay-1s" 
             style="width: 100px; height: 100px;" 
             alt="Profile Picture">
        <h4 class="animate__animated animate__fadeIn animate__delay-1s">{{ user.username }}</h4>
        <p class="text-muted animate__animated animate__fadeIn animate__delay-1s">{{ user.email }}</p>

        <!-- Profile Picture Upload Form with the same animation -->
        <form method="POST" enctype="multipart/form-data" class="mt-3">
            <div class="form-group">
                <input type="file" name="profile_pic" accept="image/*" class="form-control-file">
            </div>
            <button type="submit" class="btn btn-primary w-100 animate__animated animate__fadeIn animate__delay-1s">Upload New Picture</button>
        </form>
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary mt-3 d-block animate__animated animate__fadeIn animate__delay-1s">Back to Dashboard</a>
    </div>
</div>
{% else %}
<p class="text-danger text-center">User not found. Please log in again.</p>
{% endif %}
{% endblock %}
